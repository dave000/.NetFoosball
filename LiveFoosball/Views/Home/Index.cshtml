@{
    ViewBag.Title = "Foosball";
}

@section scripts {
    <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.0.1.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.-->
    <script>
        $(function () {
            
            // Reference the auto-generated proxy for the hub.
            var game = $.connection.foosballHub;
            // Create a function that the hub can call back to display messages.
            game.client.goal = function (team) {
                alert(team);
            };
            
            game.client.canStartGame = function () {
                alert("new game");
            }

            $('#startGame').click(function () {
                game.server.startGame();
            });

            $.connection.hub.start();

        });
        // This optional function html-encodes messages for display in the page.
        function htmlEncode(value) {
            var encodedValue = $('<div />').text(value).html();
            return encodedValue;
        }
    </script>
}

<button type="button" id="startGame" value="Start">Start</button>